# ğŸ¤– ë¯¸ë‹ˆ í”„ë¡œì íŠ¸ BackEnd ğŸ¤–

## í”„ë¡œì íŠ¸ ì„¤ëª…
ğŸ“· ë‚˜ì˜ ì—¬í–‰ê¸°ë¡ ë° ì¶”ì–µë“¤ì„ ì‚¬ì§„ê³¼ ê¸€ë¡œ ì•¨ë²”ì— ì €ì¥í•´ë³´ì ğŸ’¾


![image](https://user-images.githubusercontent.com/102216495/198182564-0b2f506f-fd66-4de1-81c6-56bf6669f465.png)

<br>



## ğŸŒŸ ì£¼ìš”ê¸°ëŠ¥
**1. í´ë” ìƒì„±**
> í´ë”ëª…, íƒœê·¸, ë‚ ì§œ ì •ë³´ ê¸°ì…


> íƒœê·¸ : íƒœê·¸ì…ë ¥ í›„ ENTER í´ë¦­ ì‹œ, ë¬¸ìì—´ ìµœì•ë‹¨ '#'ìë™ê¸°ì…


> ë‚ ì§œ : ë‹¬ë ¥ìº˜ë¦°ë” ê¸°ëŠ¥ìœ¼ë¡œ ì›í•˜ëŠ” ë‚ ì§œì„ íƒ
<br>

**2. ê²€ìƒ‰ì°½ì— í´ë”ëª… ë° íƒœê·¸ ì…ë ¥ ì‹œ, í•´ë‹¹í•˜ëŠ” í´ë”ë¦¬ìŠ¤íŠ¸ ë‚˜ì—´**
> í´ë”ëª…, íƒœê·¸ì´ë¦„ êµ¬ë¶„ì—†ì´ ê²€ìƒ‰ëª…ì— í¬í•¨ëœ í´ë”ë“¤ì€ ì „ì²´ ì¡°íšŒë¨(ë¹ˆ ë¬¸ìì—´ì€ ëª¨ë‘ ì¡°íšŒ)


> í´ë” ë‚ ì§œ ì •ë³´ ê¸°ì¤€, ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬(í´ë” ë°ì´í„° ìƒì„±ì‹œê°„ ê¸°ì¤€X)
<br>

**3. ë©”ì¸í˜ì´ì§€ ë‚´, ì „ì²´ ì´ìš©ì í•« í‚¤ì›Œë“œ ë° ê°œì¸ í•« í‚¤ì›Œë“œ ë…¸ì¶œ**
> ì „ì²´ ì´ìš©ì í•« í‚¤ì›Œë“œ : DBë‚´ ê°€ì¥ ë§ì´ ì…ë ¥ëœ íƒœê·¸ TOP5 ìˆœì„œëŒ€ë¡œ ì •ë ¬


> ê°œì¸ í•« í‚¤ì›Œë“œ : ê°œì¸ì´ ê°€ì¥ ë§ì´ ì…ë ¥í•œ íƒœê·¸ TOP5 ê°œìˆ˜ê¹Œì§€ ì •ë ¬

<details>
<summary> í•« í‚¤ì›Œë“œ ë…¸ì¶œì˜ˆì‹œ
</summary>
<div markdown="1">


ì „ì²´ ì´ìš©ì í•« í‚¤ì›Œë“œ ì˜ˆì‹œ)<br>
1ìœ„ #ì—¬í–‰<br>
2ìœ„ #ì œì£¼ë„<br>
3ìœ„ #í•œê°•<br>
4ìœ„ #í•œë¼ì‚°<br>
5ìœ„ #ì§€ë¦¬ì‚°<br>

ê°œì¸ í•« í‚¤ì›Œë“œ ì˜ˆì‹œ)<br>
#ê°€ì„ : 2<br>
#ì´ìŠ¹ìš° : 1<br>    
    
    
</div>
</details>
<br>

**4. ì‚¬ì§„ ì¶”ê°€ ë° ì‚­ì œ**
> ì¶”ê°€ : ì›í•˜ëŠ” ì‚¬ì§„íŒŒì¼ ì—…ë¡œë“œ


> ì‚­ì œ : ì›í•˜ëŠ” ì‚¬ì§„ ì²´í¬ í›„ ì‚­ì œë²„íŠ¼ í´ë¦­ (ì—¬ëŸ¬ì¥ ì‚­ì œê°€ëŠ¥)


**5. í´ë”ì‚­ì œ**
> ìƒì„±ëœ í´ë”í˜ì´ì§€ ì¡°íšŒ ì‹œ, ì‚­ì œí•˜ê¸° ë²„íŠ¼ìˆìŒ (í´ë¦­ ì‹œ í´ë”ì‚­ì œ)


## âš™ API ì„¤ê³„
https://www.notion.so/API-ef3f57ceb5fb4caca08b7526c20ff71d

## ğŸ” ERD
![image](https://user-images.githubusercontent.com/102216495/198051814-6ac6029b-94e9-478a-87cf-4ce144fee9ba.png)


## ğŸš€ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

<details>
<summary>1. ë©”ì¸í˜ì´ì§€ì—ì„œ ì¸ê¸° íƒœê·¸ top5, ë‚´ íƒœê·¸ top5 ë³´ì—¬ì£¼ê¸°
</summary>
<div markdown="1">  
    
    
    ğŸ‘Œ íƒœê·¸ ë¬¸ìì—´ì—ì„œ .split("#")
    
    ì„ í•˜ë©´ ì²« íƒœê·¸ì— â€œâ€ê°€ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥ë˜ì–´ ë¹ˆ ê°’ì´ ì•„ë‹Œ íƒœê·¸ ë¬¸ìì—´ì— 
    
    .substring(1)ì„ ë¨¼ì €í•˜ê³  .split("#")ì„ í–ˆë‹¤.
    
    top5 íƒœê·¸ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ë¦¬ìŠ¤íŠ¸ì—ì„œ .subList(0, 5) ë¥¼
    
    í–ˆëŠ”ë° íƒœê·¸ ìˆ˜ê°€ 5ê°œ ë¯¸ë§Œì´ë©´ ì˜¤ë¥˜ê°€ ëœ¨ê¸° ë•Œë¬¸ì— íƒœê·¸ê°€ 5ê°œ ì´ìƒì¼ ë•Œë§Œ ì• 5ê°œë¡œ ìë¥´ê³  ì•„ë‹Œ ê²½ìš° ì „ì²´ íƒœê·¸ ë³´ì—¬ì£¼ê¸°

</div>
</details>



<details>
<summary>2. í† í° ì¬ë°œí–‰
</summary>
<div markdown="1">
    
    
    ğŸ‘Œ access í† í° ë§Œë£Œ ì‹œ Refresh í† í° ì¬ë°œí–‰ í•  ë•Œ í—¤ë”ë¡œ ë°›ì€ Refreshí† í°ê³¼ ë””ë¹„ì— ì €ì¥ëœ refreshí† í°ì„ ë¹„êµí•´ì•¼ 
    
    í•˜ëŠ”ë° refreshí† í°ì—ì„œ ì•ì— Bearer ë¶€ë¶„ì„ ëº€ í† í°ê°’ê³¼ ë””ë¹„ì— ìˆëŠ” refresh í† í° ê°’ì„ ë¹„êµí•˜ì—¬ ì¼ì¹˜í•˜ì§€ ì•Šì•„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤.
    
   
</div>
</details>


<details>
<summary>3. ì‚¬ì§„ ì‚­ì œì²´í¬ë¦¬ìŠ¤íŠ¸ ë°›ì•„ì˜¤ëŠ” ê°’ ë°ì´í„° ì²´í¬
</summary>
<div markdown="1">    
    
    
    ğŸ‘Œ ì‚¬ì§„ ì‚­ì œ íŒŒë¼ë¯¸í„° ê°’ ìˆ˜ì‹ í•˜ëŠ” ë°©ë²• @RequestParamì€ 
    
    (comma)ë¡œ êµ¬ë¶„í•˜ì—¬ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ë©´ ìë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ 
    
    (comma)êµ¬ë¶„í•˜ì—¬ Listí˜•íƒœë¡œ ë°ì´í„°ë¥¼ ë³€í™˜í•œë‹¤. 
    
    ì˜ˆì‹œ) http://localhost:8080/folder/3?photoId=1,2
</div>
</details>

<details>
<summary>4. ì„œë²„ì¸¡ Corsí—ˆìš© ì˜µì…˜ ë¯¸ì¶”ê°€ë¡œ ì¸í•œ í´ë¼ì´ì–¸íŠ¸ ì ‘ê·¼ì œí•œ ë°œìƒ </summary>
<div markdown="1">     
    
    
    ğŸ‘Œí´ë¼ì´ì–¸íŠ¸ì¸¡ ì£¼ì†Œ ê¸°ì…ì„ í†µí•´ origin ê²€ì¦ í†µê³¼ì‘ì—…ì´ í•„ìš”í–ˆìŒ.
    í´ë¼ì´ì–¸íŠ¸ì¸¡ ë„ë©”ì¸ì— ëŒ€í•œ ì ‘ê·¼ê¶Œí•œì„ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¡œ ìŠ¹ì¸í•˜ì—¬ ë¬¸ì œí•´ê²° ì™„ë£Œí•¨.
    
    
```java
@Bean
CorsConfigurationSource corsConfigurationSource() {

    CorsConfiguration configuration = new CorsConfiguration();
    configuration.setAllowCredentials(true);
    configuration.setAllowedOrigins(Arrays.asList(FRONT_END_SERVER));
    configuration.setAllowedMethods(Arrays.asList("GET", "POST", "PUT", "DELETE"));
    configuration.setAllowedHeaders(Arrays.asList("X-Requested-With","Origin","Content-Type","Accept","Authorization"));
    
    // This allow us to expose the headers
    configuration.setExposedHeaders(Arrays.asList("Access-Control-Allow-Headers", "Authorization, x-xsrf-token, Access-Control-Allow-Headers, Origin, Accept, X-Requested-With, " +
            "Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers"));
    
    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
    source.registerCorsConfiguration("/**", configuration);
    return source;
} 
```

    ì°¸ì¡° ë¸”ë¡œê·¸
    1. https://stackoverflow.com/questions/37897523/axios-get-access-to-response-header-fields
    2. https://evan-moon.github.io/2020/05/21/about-cors/
    3. https://wonit.tistory.com/572

</div>
</details>


<details>
<summary>5. ì„œë²„ë°°í¬ ì‹œ, í´ë¼ì´ì–¸íŠ¸ì¸¡ H2 DataBaseì ‘ê·¼ì œí•œ ë¬¸ì œë°œìƒ</summary>
<div markdown="1">       
    
    
    ğŸ‘Œì„œë²„ì¸¡ì—ì„œ H2 ì›¹ì ‘ê·¼ì„ í—ˆìš©í•´ì¤˜ì•¼í•˜ëŠ” ê²ƒìœ¼ë¡œ íŒŒì•…ì™„ë£Œ. ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¡œ ë¬¸ì œí•´ê²° ì™„ë£Œí•¨.

```java
spring.h2.console.settings.web-allow-others=true
```
    ì°¸ì¡° ë¸”ë¡œê·¸ : https://www.appsloveworld.com/springboot/100/84/h2-database-console-errors-with-sorry-remote-connections-weballowothers-are

</div>
</details>

<details>
<summary>6. ê²€ìƒ‰ì–´ ì¡°íšŒ ì‹œ í´ë”ëª…ê³¼ íƒœê·¸ ë™ì‹œ ì¡°íšŒ
</summary>
<div markdown="1">    
    
    
    ğŸ‘Œ JPAë©”ì†Œë“œ ì¿¼ë¦¬ ì‚¬ìš© ì‹œ, ë¶ˆí•„ìš”í•œ ë¡œì§ì´ ì¦ê°€í•˜ì˜€ìŒ.
    
    ì´ë¥¼ í•´ì†Œí•˜ê¸° ìœ„í•´ Querydsl ê¸°ìˆ ì„ ì ìš©í•˜ì—¬ ì¿¼ë¦¬ ì„±ëŠ¥ ìµœì í™”ë¥¼ ì§„í–‰í•˜ì˜€ìŒ
    
</div>
</details>


### BackEnd íŒ€ì› ê¹ƒí—ˆë¸Œ
ğŸ‘©â€ğŸ’» [ìœ¤ìˆ˜ì˜](https://github.com/Suyoung225) ğŸ§‘â€ğŸ’» [ì´ìŠ¹ìš°](https://github.com/iswoos) ğŸ‘¨â€ğŸ’» [ì´ë™ì¬](https://github.com/Pdongjaelee)
